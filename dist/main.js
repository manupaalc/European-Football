!function(){let e,t=!1;function n(e){const t=document.getElementById("games-list"),n=document.getElementById("games-list-wrapper");if(t.innerHTML="",e.length>0)e.forEach((e=>{const{DateUtc:n,HomeTeam:o,AwayTeam:a,Location:s}=e,r=new Date(n).toLocaleString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}),l=document.createElement("li");l.textContent=`${r} ${o} vs ${a}, stadium: ${s}`,t.appendChild(l)})),n.style.display="block";else{const e=`In ${selectedCountry} from ${startDate} to ${endDate}, there will not be any games, please choose different dates.`;document.getElementById("message").innerText=e,n.style.display="none"}}document.addEventListener("DOMContentLoaded",(()=>{const o=document.createElement("div");o.id="welcome-message",o.classList.add("welcome-message"),o.innerHTML='\n    <p>\n      Welcome to European Football. Planning on traveling to the old continent? Let us know the country and dates of your trip and we will show you the most exciting games going on during your trip.\n    </p>\n    <button id="close-message-btn">Go ahead!</button>\n  ',document.body.appendChild(o);const a=localStorage.getItem("welcomeMessageShown"),s=document.getElementById("welcome-message"),r=document.getElementById("close-message-btn");a||(s.style.display="block"),r.addEventListener("click",(()=>{s.style.display="none",localStorage.setItem("welcomeMessageShown",!0)}));const l=["Spain","Italy","France","Germany","United Kingdom"];let c=null;fetch("assets/europe_features.json").then((e=>e.json())).then((n=>{const o=document.getElementById("map-container"),a=document.createElement("div");a.className="tooltip",o.appendChild(a),e=d3.select(o).append("svg"),e.attr("width",800).attr("height",600);const s=e.append("g"),r=d3.geoMercator().fitSize([800,600],n),i=d3.geoPath().projection(r),d=d3.zoom().scaleExtent([1,8]).on("zoom",(function(e){s.attr("transform",e.transform),s.attr("stroke-width",1/e.transform.k)}));e.call(d),s.selectAll("path").data(n.features).enter().append("path").attr("d",i).attr("stroke","black").attr("fill",(e=>l.includes(e.properties.name)?"lightgreen":"gray")).style("cursor",(e=>l.includes(e.properties.name)?"pointer":"default")).on("mouseover",((e,t)=>{l.includes(t.properties.name)&&(a.style.display="block",a.style.left=`${e.pageX+10}px`,a.style.top=e.pageY-25+"px",a.textContent=t.properties.name)})).on("mouseout",(()=>{a.style.display="none"})).on("click",(function(e,n){if(l.includes(n.properties.name)){c&&(s.selectAll("path").attr("fill",(e=>l.includes(e.properties.name)?"lightgreen":"gray")),document.getElementById("games-list").innerHTML="");const[[e,o],[a,r]]=i.bounds(n),[d,m]=[(e+a)/2,(o+r)/2],u=3;t=!0,c="United Kingdom"===n.properties.name?"England":n.properties.name;const p=[400-u*d,300-u*m];s.transition().duration(750).attr("transform",`translate(${p[0]}, ${p[1]}) scale(${u})`),mapCountry=d3.select(this),mapCountry.attr("fill","green");const y=document.getElementById("message"),g=document.getElementById("dates-form");c?(y.innerHTML=`<p>Select the dates for your trip to ${c}.</p>`,g.style.display="block"):(y.innerHTML="<p>Select the country for your next trip.</p>",g.style.display="none")}}))})).catch((e=>{console.error("Error fetching JSON:",e)}));const i=document.getElementById("trip-form"),d=document.getElementById("dates-form");i.addEventListener("submit",(async e=>{e.preventDefault();const t=document.getElementById("start-date").value,o=document.getElementById("end-date").value;if(c&&t&&o){d.style.display="none";const e=`In ${c} from ${t} to ${o}, there will be the next games:`;document.getElementById("message").innerText=e;const a=await async function(e){const t={Spain:["atletico.json","barcelona.json","madrid.json"],England:["arsenal.json","chelsea.json","liverpool.json","mancity.json","manutd.json"],France:["paris.json","olympique.json"],Italy:["inter.json","juventus.json","milan.json"],Germany:["bayern.json","borussia.json"]},n=[];try{if(e in t){const o=t[e];for(const t of o){const o=await fetch(`../assets/calendars/${e}/${t}`),a=await o.json();n.push(a)}}else console.error("No team calendars found for the selected country.");return n}catch(e){return console.error("Error fetching team calendars:",e),[]}}(c);if(a.length>0){const e=a.flatMap((e=>e.filter((e=>e.DateUtc>=t&&e.DateUtc<=o))));n(e),console.log(e)}else console.error("No team calendars found for the selected country.")}}))})),document.addEventListener("DOMContentLoaded",(()=>{const e={arsenal:42,chelsea:49,liverpool:40,manuntd:33,mancity:50,olympique:81,paris:85,bayern:157,borussia:165,juventus:496,milan:489,inter:505,barcelona:529,atletico:530,madrid:541};document.querySelectorAll(".team-icons img").forEach((t=>{t.addEventListener("click",(()=>{const n=t.alt.toLowerCase(),o=e[n];window.location.href=`team.html?id=${o}`}))}))})),console.log("updated")}();
//# sourceMappingURL=main.js.map